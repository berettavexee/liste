<!DOCTYPE html>
<html ng-app="listeApp">
<head>
<meta charset="utf-8">
<title>Liste de courses </title>
<link rel="stylesheet" href="/css/angular-material.min.css">
<link href="css/icon_family=Material+Icons.css" rel="stylesheet">
<script src="js/angular.min.js"></script>
<script src="js/angular-sanitize.js"></script>
<script src="js/angular-animate.min.js"></script>
<script src="js/angular-aria.min.js"></script>
<script src="js/angular-messages.min.js"></script>
<script src="js/angular-material.min.js"></script>
<script src="js/liste.js"></script>
</head>
<body ng-controller="ListeCtrl">
<!--p>Nb personnes par défaut:
<select ng-model="nb_gens_defaut">
        <option ng-repeat="n in [].constructor(30) track by $index+1">{{$index+1}}</option>
    </select>
</p-->
<md-toolbar class="md-tall">
    <span flex></span>
    <h1>
    <span style="margin-left:2%">El toolos de la faisaciòn dela list dell courses</span>
    </h1>
</md-toolbar>
<div layout="row" flex>
    <md-card flex="30" layout-align="start start">
        <md-card-header style="width: 95%">
            <div layout="row" style="width: 100%">
                <h2 flex="50">Liste</h2>
                <div layout="row" flex="50" layout-align="end">
                    <md-button class="md-primary md-raised" ng-click="showPromptSave($event)" >
                            Save Liste
                    </md-button>
                    <md-button class="md-primary md-raised" ng-click="showPromptLoad($event)" >
                            Load Liste
                    </md-button>
                </div>
            </div>
        </md-card-header>
        <md-card-content>
            <div ng-bind-html="liste_html" flex ></div>
        </md-card-content>
    </md-card>

    <div >
        <md-card>
            <md-card-title><span class="md-headline">Nombre de jours:</span></md-card-title>
        <md-card-content>
        <md-select ng-model="nb_jours" ng-change="joursChanged()" placeholder="Nb jours">
            <md-option ng-selected="{{n == nb_jours}}" ng-repeat="n in jours_tab" ng-value="n">{{n}}</md-option>
            </md-select>
        </md-card-content>
        </md-card>
        <md-list style="padding:0px">
            <div ng-repeat="jour in jours track by $index" md-ink-ripple="false" md-ni-ink="true">
                <md-card>
                    <md-card-title><span class="md-headline"> Jour {{$index+1}} </span></md-card-title>
                    <md-card-content>
                        <div layout="column" >
                            <span class="md-subhead">Matin</span>
                            <div layout="row" >
                                <md-select ng-model="gens_par_matin[$index]" ng-change="updateListe()" placeholder="Nb gens">
                                    <md-option ng-repeat="nn in gens_tab" ng-value="nn">{{nn}}</md-option>
                                </md-select>
                                <md-input-container>
                                <md-select ng-model="recette_matin_par_jour[$index]" ng-change="updateListe()" placeholder="Recette matin">
                                    <md-option ng-value="{{null}}">---</md-option>
                                    <md-option ng-repeat="recette in recettes_matin" ng-value="recette.name">{{recette.name}}</md-option>
                                </md-select>
                                </md-input-container>
                                <md-input-container>
                            </div>
                            <span class="md-subhead">Dejeuner</span>
                            <div layout="row" >
                                <md-select ng-model="gens_par_dejeuner[$index]" ng-change="updateListe()" placeholder="Nb gens">
                                    <md-option ng-repeat="nn in gens_tab" ng-value="nn">{{nn}}</md-option>
                                </md-select>
                                <md-input-container>
                                <md-select ng-model="recette_dejeuner_par_jour[$index]" ng-change="updateListe()" placeholder="Recette Dejeuner">
                                    <md-option ng-value="{{null}}">---</md-option>
                                    <md-option ng-repeat="recette in recettes" ng-value="recette.name">{{recette.name}}</md-option>
                                </md-select>
                                </md-input-container>
                                <md-input-container>
                            </div>



                            <span class="md-subhead">Diner</span>
                            <div layout="row">
                                <md-select ng-model="gens_par_diner[$index]" ng-change="updateListe()" placeholder="Nb gens">
                                    <md-option ng-repeat="nn in gens_tab" ng-value="nn">{{nn}}</md-option>
                                </md-select>
                                <md-select ng-model="recette_diner_par_jour[$index]" ng-change="updateListe()" placeholder="Recette Diner">
                                    <md-option ng-value="{{null}}">---</md-option>
                                    <md-option ng-repeat="recette in recettes" ng-value="recette.name">{{recette.name}}</md-option>
                                </md-select>
                                </md-input-container>
                            </div>
                        </div>
                    </md-card-content>
                </md-card>
            </div>
        </md-list>
    </div>
</div>

</body>
</html>
